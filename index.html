<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Музейные истории — интро</title>
  <style>
    :root{
      --bg:#ffffff;
      --fg:#0a0a0a;
      --muted:#666;
      --accent:#0f172a; /* тёмно-синий для хедера */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,Helvetica,sans-serif;color:var(--fg);background:var(--bg);}
    a{color:inherit}

    /* ---------- Intro Stage ---------- */
    .stage{position:fixed;inset:0;display:grid;place-items:center;background:var(--bg);z-index:50;overflow:hidden}
    .stage.hidden{display:none}

    .skip{
      position:fixed;top:16px;right:16px;z-index:60;border:1px solid #ddd;border-radius:999px;
      padding:8px 12px;background:#fff;box-shadow:0 4px 14px rgba(0,0,0,.06);cursor:pointer;font-size:14px
    }
    .skip[disabled]{opacity:.4;cursor:default}

    .door-wrap{position:relative;perspective:1200px;width:min(44vmin,380px);height:calc(min(44vmin,380px)*2);}
    .door{
      position:absolute;inset:0;border-radius:12px;background:#f6f6f6;box-shadow:0 20px 60px rgba(0,0,0,.08) inset,0 30px 60px rgba(0,0,0,.08);
      border:1px solid #e6e6e6;transform-origin:left center;transform:rotateY(0deg);will-change:transform,opacity
    }
    .door-handle{position:absolute;right:8%;top:48%;width:8px;height:28px;border-radius:6px;background:#cfcfcf;box-shadow:inset 0 0 0 2px rgba(0,0,0,.06)}

    .light{
      position:absolute;inset:-15%;pointer-events:none;opacity:0;background:radial-gradient(circle at 20% 50%, rgba(255,255,255,.0) 0%, rgba(255,255,255,.9) 30%, rgba(255,255,255,1) 60%, rgba(255,255,255,1) 100%);
      mix-blend-mode:screen;filter:blur(6px)
    }

    .parallax{position:absolute;inset:-10%;background:radial-gradient(circle at 60% 40%, rgba(0,0,0,.05), transparent 60%);transform:translateZ(-60px)}

    .camera{position:absolute;inset:0;display:grid;place-items:center;transition:transform 1400ms cubic-bezier(.22,.61,.36,1),
      filter 1200ms ease}

    /* ---------- Main Site ---------- */
    header{
      position:fixed;top:0;left:0;right:0;height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 20px;
      background:rgba(255,255,255,.7);backdrop-filter:saturate(140%) blur(12px);border-bottom:1px solid rgba(0,0,0,.06);z-index:10
    }
    .brand{font-weight:700;letter-spacing:.2px}
    .nav a{margin-left:16px;text-decoration:none;color:#111}

    .hero{min-height:100vh;display:grid;place-items:center;padding:80px 24px}
    .hero-inner{max-width:1100px;display:grid;gap:16px;justify-items:center;text-align:center}
    .kicker{color:var(--muted);text-transform:uppercase;letter-spacing:.14em;font-size:12px}
    h1{margin:0;font-size:clamp(28px,6vw,54px);line-height:1.06;letter-spacing:-.02em}
    .lead{max-width:720px;color:#333;font-size:clamp(16px,2.4vw,18px)}
    .cta{display:flex;gap:12px;margin-top:10px}
    .btn{padding:12px 18px;border-radius:999px;border:1px solid #111;background:#111;color:#fff;cursor:pointer}
    .btn--ghost{background:#fff;color:#111;border-color:#ddd}

    /* Museum panels background */
    .panorama{position:absolute;inset:0;z-index:-1;display:grid;grid-template-columns:repeat(12,1fr);grid-template-rows:repeat(6,1fr);gap:10px;opacity:.9;padding:90px 20px 20px}
    .panel{border-radius:14px;background:linear-gradient(180deg,#efefef,#e6e6e6);box-shadow:0 10px 30px rgba(0,0,0,.08) inset, 0 6px 18px rgba(0,0,0,.06);filter:saturate(110%)}
    .panel.anim{animation:float 8s ease-in-out infinite alternate}
    @keyframes float{from{transform:translateY(0)}to{transform:translateY(-10px)}}

    .panel.p1{grid-column:1/5;grid-row:1/4}
    .panel.p2{grid-column:5/9;grid-row:2/6}
    .panel.p3{grid-column:9/13;grid-row:1/4}
    .panel.p4{grid-column:2/6;grid-row:4/7}
    .panel.p5{grid-column:7/12;grid-row:4/7}

    /* Sections placeholders */
    section{padding:80px 20px;border-top:1px solid rgba(0,0,0,.06)}
    .container{max-width:1100px;margin:0 auto}
    .grid{display:grid;gap:18px}
    .grid.cols-2{grid-template-columns:1fr 1fr}
    .logos{display:grid;grid-template-columns:repeat(6,1fr);gap:18px}
    .logo{height:48px;border-radius:10px;background:#f2f2f2;border:1px solid #e8e8e8}

    /* Reduced motion: remove heavy transforms */
    @media (prefers-reduced-motion: reduce){
      .camera,.door{transition:none!important}
      .panel.anim{animation:none}
    }
  </style>
</head>
<body>
  <!-- Header (hidden under intro visually) -->
  <header>
    <div class="brand">Studio • Museum Media</div>
    <nav class="nav">
      <a href="#about">Процесс</a>
      <a href="#clients">Отзывы</a>
      <a href="#seminar">Семинар</a>
      <a href="#team">Команда</a>
      <a href="#contact">Контакты</a>
    </nav>
  </header>

  <!-- Intro Stage -->
  <button class="skip" id="skip" aria-label="Пропустить интро">Пропустить (5)</button>
  <div class="stage" id="stage" role="dialog" aria-label="Вступление">
    <div class="camera" id="camera">
      <div class="door-wrap">
        <div class="door" id="door">
          <div class="door-handle"></div>
          <div class="light" id="light"></div>
          <div class="parallax"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main hero -->
  <main>
    <section class="hero">
      <div class="panorama" aria-hidden="true">
        <div class="panel p1 anim"></div>
        <div class="panel p2 anim"></div>
        <div class="panel p3 anim"></div>
        <div class="panel p4 anim"></div>
        <div class="panel p5 anim"></div>
      </div>
      <div class="hero-inner">
        <div class="kicker">Мультимедиа для музеев</div>
        <h1>Мы превращаем музеи в живые истории</h1>
        <p class="lead">Проектируем и реализуем выставочные видеопанорамы, интерактивы и звук. От идеи до пуско‑наладки — одна команда.</p>
        <div class="cta">
          <a href="#about" class="btn">Смотреть кейсы</a>
          <a href="#contact" class="btn btn--ghost">Связаться</a>
        </div>
      </div>
    </section>

    <section id="about">
      <div class="container grid cols-2">
        <div>
          <h2>Цели и процесс</h2>
          <p>Диагностика экспозиции → драматургия → прототипы → производство → монтаж и запуск. Прозрачные сроки, одно окно коммуникации.</p>
        </div>
        <div>
          <h3>Как идёт процесс</h3>
          <ol>
            <li>Иммерсивная концепция</li>
            <li>Технический проект</li>
            <li>Контент и софт</li>
            <li>Инсталляция</li>
            <li>Сервис и обучение</li>
          </ol>
        </div>
      </div>
    </section>

    <section id="clients">
      <div class="container">
        <h2>Отзывы и логотипы</h2>
        <div class="logos">
          <div class="logo"></div><div class="logo"></div><div class="logo"></div>
          <div class="logo"></div><div class="logo"></div><div class="logo"></div>
        </div>
      </div>
    </section>

    <section id="seminar">
      <div class="container grid cols-2">
        <div>
          <h2>Семинар кратко</h2>
          <p>Практический воркшоп для сотрудников музеев: как планировать мультимедиа, чтобы оно работало на историю и бюджет.</p>
        </div>
        <div>
          <div class="panel" style="height:180px"></div>
        </div>
      </div>
    </section>

    <section id="team">
      <div class="container grid cols-2">
        <div>
          <h2>Команда</h2>
          <p>Продюсеры, дизайнеры, инженеры, разработчики. Работаем как единое производство.</p>
        </div>
        <div class="grid" style="grid-template-columns:repeat(3,1fr)">
          <div class="panel" style="height:120px"></div>
          <div class="panel" style="height:120px"></div>
          <div class="panel" style="height:120px"></div>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="container grid cols-2">
        <div>
          <h2>Контакты</h2>
          <p>Напишите нам: hello@studio.example</p>
        </div>
        <form class="grid">
          <input placeholder="Имя" style="padding:12px;border:1px solid #ddd;border-radius:10px"/>
          <input placeholder="Email" style="padding:12px;border:1px solid #ddd;border-radius:10px"/>
          <textarea placeholder="Сообщение" rows="4" style="padding:12px;border:1px solid #ddd;border-radius:10px"></textarea>
          <button class="btn" type="button">Отправить</button>
        </form>
      </div>
    </section>
  </main>

  <script>
    const stage = document.getElementById('stage');
    const door = document.getElementById('door');
    const light = document.getElementById('light');
    const camera = document.getElementById('camera');
    const skip = document.getElementById('skip');

    // show intro only once per session
    const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const seen = sessionStorage.getItem('intro-seen') === '1';
    if (seen || reduced) {
      stage.classList.add('hidden');
      skip.style.display = 'none';
    } else {
      startIntro();
    }

    function startIntro(){
      // timeline (vanilla JS + CSS transitions)
      // 1) reveal light quickly
      requestAnimationFrame(()=>{
        light.style.opacity = 0.0;
        light.style.transition = 'opacity 400ms ease';
        light.style.opacity = 0.35;
      });
      // 2) open door after 600ms
      setTimeout(()=>{
        door.style.transition = 'transform 1200ms cubic-bezier(.22,.61,.36,1), opacity 400ms ease';
        door.style.transform = 'rotateY(-70deg)';
        // bloom: flash the light
        light.style.transition = 'opacity 260ms ease';
        light.style.opacity = 1;
        setTimeout(()=>{ light.style.transition = 'opacity 900ms ease'; light.style.opacity = .15; }, 220);
      }, 600);
      // 3) camera push after 1.6s
      setTimeout(()=>{
        camera.style.transform = 'scale(1.18)';
        camera.style.filter = 'blur(3px)';
      }, 1600);
      // 4) settle to main scene and remove stage
      setTimeout(()=>{
        camera.style.transform = 'scale(1)';
        camera.style.filter = 'blur(0px)';
        endIntro();
      }, 3000);

      // skip button countdown
      let t = 5;
      const iv = setInterval(()=>{
        t--; skip.textContent = `Пропустить (${t})`;
        if (t<=0){ skip.removeAttribute('disabled'); skip.textContent = 'Пропустить'; clearInterval(iv); }
      },1000);
      skip.setAttribute('disabled','true');

      skip.addEventListener('click', ()=> endIntro(true));
    }

    function endIntro(skipped=false){
      sessionStorage.setItem('intro-seen','1');
      stage.style.transition = 'opacity 600ms ease';
      stage.style.opacity = 0;
      setTimeout(()=>{ stage.classList.add('hidden'); skip.style.display='none'; }, 620);
    }
  </script>
</body>
</html>
